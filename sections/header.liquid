{%- style -%}
  /* Inline-Styles wurden entfernt, da sie jetzt in base.css sind */
  /* Nur sicherstellen, dass die Navigation sichtbar ist */
  .header__nav { display: none; }
  @media (min-width: 1024px) {
    .header__nav { display: flex; align-items: center; gap: 2rem; height: 100%; }
  }
{%- endstyle -%}

<header class="site-header" data-sticky="{{ settings.header_sticky }}">
  <div class="header__wrapper">
    
    <nav class="header__nav header__nav--left">
      {% render 'site-nav', linklist: linklists.main-menu, position: 'left' %}
    </nav>
    
    <div class="header__logo">
      <a href="/" class="header__logo-link">
        {% if settings.logo != blank %}
          <img 
            src="{{ settings.logo | image_url: width: settings.logo_width }}" 
            alt="{{ shop.name }}"
            width="{{ settings.logo_width }}"
            loading="eager"
          >
        {% else %}
          <span class="header__logo-text">{{ shop.name }}</span>
        {% endif %}
      </a>
    </div>
    
    <div class="header__icons">
      <nav class="header__nav header__nav--right">
        {% render 'site-nav', linklist: linklists.main-menu, position: 'right' %}
      </nav>
      
      <a href="{{ routes.search_url }}" class="header__text-link" aria-label="{{ 'general.header.search' | t }}">
        {{ 'general.header.search' | t }}
      </a>
      
      <button class="header__text-link" data-login-drawer-open aria-label="{{ 'general.header.login' | t }}">
        {{ 'general.header.login' | t }}
      </button>
      
      <button class="header__text-link header__text-link--bag" data-cart-drawer-open aria-label="{{ 'general.header.bag' | t }}">
        {{ 'general.header.bag' | t }}
        <span class="header__cart-count" data-cart-count>{{ cart.item_count }}</span>
      </button>
      
      <button class="header__mobile-toggle" data-mobile-menu-toggle aria-label="Menu" aria-expanded="false">
        <span></span><span></span><span></span>
      </button>
    </div>
  </div>
</header>

<div class="mobile-menu" data-mobile-menu>
  <nav class="mobile-menu__nav">
    {% for link in linklists.main-menu.links %}
      <a href="{{ link.url }}" class="mobile-menu__link">{{ link.title }}</a>
    {% endfor %}
  </nav>
  
  <div class="mobile-menu__icons">
    <a href="{{ routes.search_url }}" class="mobile-menu__icon-link">
      {{ 'general.header.search' | t }}
    </a>
    <button class="mobile-menu__icon-link" data-login-drawer-open>
      {{ 'general.header.login' | t }}
    </button>
  </div>
</div>

{% schema %}
{
  "name": "Header",
  "class": "section-header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo Image"
    },
    {
      "type": "range",
      "id": "logo_width",
      "min": 50,
      "max": 300,
      "step": 10,
      "unit": "px",
      "label": "Logo Width",
      "default": 150
    },
    {
      "type": "checkbox",
      "id": "header_sticky",
      "label": "Enable Sticky Header",
      "default": true
    }
  ]
}
{% endschema %}